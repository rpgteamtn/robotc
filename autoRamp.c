#pragma config(Hubs,  S1, HTMotor,  HTMotor,  HTMotor,  none)
#pragma config(Hubs,  S2, HTServo,  HTMotor,  none,     none)
#pragma config(Sensor, S3,     gyro,           sensorSONAR)
#pragma config(Sensor, S4,     HTSMUX,         sensorI2CCustom)
#pragma config(Motor,  mtr_S1_C1_1,     spinner,       tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C2_1,     leftFront,     tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C2_2,     leftBack,      tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C3_1,     liftRight,     tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C3_2,     liftLeft,      tmotorTetrix, openLoop, reversed)
#pragma config(Motor,  mtr_S2_C2_1,     rightFront,    tmotorTetrix, openLoop, reversed)
#pragma config(Motor,  mtr_S2_C2_2,     rightBack,     tmotorTetrix, openLoop, reversed)
#pragma config(Servo,  srvo_S2_C1_1,    spinnerServo,         tServoStandard)
#pragma config(Servo,  srvo_S2_C1_6,    goalCapture,          tServoStandard)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#define MUX1 		 msensor_S4_1
#define touch 	 msensor_S4_2
#define sonar    msensor_S4_3

#include "fourWheelMovement.c"
#include "IRsensor.c"
#include "gyroSensor.c"
#include "MovementCommon.c"
#include "autoKickstand.c"

#define pointX
#define pointY
#define pointZ
#define timeX1 100
#define distanceX1
#define distanceX2
#define distanceY1
#define distanceY2
#define distanceZ1
#define distanceZ2
#define distanceZ3

void rampOff()
{
	float distance = findIRRamp(dBackward);
	float travelDist = 170 - distance;
	travelDistance(travelDist, dForward);
	gyroTurn(30, 80, dRight);
	wait1Msec(15000);
}

void strategyX() //use if in position 3 (IR toward parking)
{
	displayCenteredTextLine(1, "strategy X");
	strafe(50);
	wait1Msec(timeX1);
	stopMotors();
	wait1Msec(10);
	travelDistance(distanceX1, dForward);
	wait1Msec(10);
	gyroTurn(30, 80, dLeft);
	wait1Msec(10);
	travelDistance(distanceX2, dForward);
}

void strategyY() //use if in position 2
{
	displayCenteredTextLine(1, "strategy Y")
	travelDistance(distanceY1, dForward);
	gyroTurn(30, 45, dLeft);
	travelDistance(distanceY1, dForward);
}

void strategyZ() //use if in position 1
{
	displayCenteredTextLine(1, "strategy Z")
	travelDistance(distanceZ1, dForward);
	gyroTurn(30, 90, dLeft);
	travelDistance(distanceZ2, dForward);
	gyroTurn(30, 90, dRight);
	travelDistance(distanceZ3, dForward);
}

void autoRamp()
{
	disableDiagnosticsDisplay();
	resetEncoders();
	float travelled = abs(rampOff());
	wait1Msec(500);

	if (travelled < pointZ)
	{
		strategyZ();
	}
	else if (travelled < pointX)
	{
		strategyX();
	}
	else if (travelled < pointY);
	{
	strategyY();
	}
task main()
{
 rampOff();
}
